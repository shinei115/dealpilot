<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DealPilot - ìµœê³ ì˜ ì œí’ˆ, ìµœê³ ì˜ ë”œ</title>
    <style>
      body {
        font-family: sans-serif;
        background-color: #f8f9fa;
        margin: 0;
        padding: 0;
      }
      header {
        background-color: #222;
        color: #fff;
        padding: 1rem;
        text-align: center;
      }
      .container {
        max-width: 800px;
        margin: 2rem auto;
        padding: 1rem;
      }
      .search-box {
        display: flex;
        margin-bottom: 2rem;
      }
      .search-box input {
        flex: 1;
        padding: 0.75rem;
        font-size: 1rem;
        border: 1px solid #ccc;
        border-radius: 4px 0 0 4px;
      }
      .search-box button {
        padding: 0.75rem 1rem;
        font-size: 1rem;
        background-color: #007bff;
        color: white;
        border: none;
        border-radius: 0 4px 4px 0;
        cursor: pointer;
        min-width: 80px;
        touch-action: manipulation;
      }
      .card {
        background: white;
        border-radius: 8px;
        padding: 1rem;
        margin-bottom: 1rem;
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
        display: flex;
        align-items: center;
        transition: all 0.3s ease-in-out;
        justify-content: space-between;
        flex-wrap: wrap; /* ì¤„ë°”ê¿ˆ í•„ìš” ì‹œ */
      }
      .card:hover {
        transform: scale(1.02);
      }
      .card img {
        width: 80px;
        height: 80px;
        object-fit: cover;
        border-radius: 6px;
        margin-right: 1rem;
      }
      .card-content {
        flex: 1; /* ë‚¨ì€ ê³µê°„ ì°¨ì§€ */
      }
      .card-content h2 {
        font-size: 1.1rem;
        margin: 0 0 0.3rem 0;
      }
      .card-content p {
        font-size: 0.9rem;
        margin: 0 0 0.5rem 0;
        color: #333;
      }
      .card-content a {
        margin-left: auto;
        padding: 0.5rem 1rem;
        text-decoration: none;
        color: white;
        background-color: #007bff;
        font-size: 1rem;
        font-weight: bold;
        border-radius: 8px;
        white-space: nowrap;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
        position: relative;
        overflow: hidden;
        animation: glow-border 1.5s infinite alternate ease-in-out;
        transition: transform 0.2s ease;
      }
      .card-content a:hover {
        transform: scale(1.05);
      }
      @keyframes glow-border {
        0% {
          box-shadow: 0 0 3px #007bff, 0 0 2px #007bff;
        }
        100% {
          box-shadow: 0 0 7px #00aaff, 0 0 5px #00aaff;
        }
      }
      footer {
        text-align: center;
        font-size: 0.8rem;
        color: #666;
        padding: 1rem 0;
      }
    </style>
  </head>
  <body>
    <header>
      <h1>ğŸ”¥ ë”œíŒŒì¼ëŸ¿ - DealPilot</h1>
      <h3>ìµœê³ ì˜ ì œí’ˆë§Œ</h3>
    </header>

    <div class="container">
      <div class="search-box">
        <input
          type="text"
          id="searchInput"
          placeholder="ì˜ˆ: ì—¬ë¦„, ì„ í’ê¸°, í´ëœì €"
        />
        <button onclick="filterProducts()">ê²€ìƒ‰</button>
      </div>

      <p id="resultInfo" style="font-weight: bold; margin-bottom: 1rem"></p>
      <p id="noResults" style="display: none; color: gray; text-align: center">
        ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤ ğŸ˜¢
      </p>
      <div class="card">
        <img
          src="https://thumbnail8.coupangcdn.com/thumbnails/remote/492x492ex/image/vendor_inventory/c4b2/c8a2a3971ba794507ce6e6caeaec8c98df9a685002515a57b67488b66990.jpg"
          alt="AI ìŠ¤ë§ˆíŠ¸í° ì§ë²Œ"
        />
        <div class="card-content">
          <h2>
            <span class="badge">6ë²ˆ -</span> ì§€ìœ¤ ìŠ¤ë¬´ìŠ¤ 5S AI ìŠ¤ë§ˆíŠ¸í° ì§ë²Œ
          </h2>
          <p>AIê°€ ì•Œì•„ì„œ íŠ¸ë˜í‚¹! ğŸ¯ ì—¬í–‰, ë¸Œì´ë¡œê·¸ í•„ìˆ˜ í˜„ì¡´ ìµœê°• ì§ë²Œ</p>
          <a
            href="https://link.coupang.com/a/cJDUmb"
            target="_blank"
            onclick="trackClick('ìŠ¤ë§ˆíŠ¸í° ì§ë²Œ')"
            >ìµœì €ê°€ë¡œ êµ¬ë§¤</a
          >
        </div>
      </div>
      <div class="card">
        <img
          src="https://thumbnail10.coupangcdn.com/thumbnails/remote/492x492ex/image/vendor_inventory/1e35/4ab6116bc908908cca8ea8298b45cff639dee4e0b6ed85ca09ebfaf962f3.jpg"
          alt="ì „ë™ì²­ì†Œì†” PRO"
        />
        <div class="card-content">
          <h2><span class="badge">5ë²ˆ -</span> íŒŒë¹— 2ì„¸ëŒ€ ì „ë™ì²­ì†Œì†” PRO</h2>
          <p>í”¼ë¶€ ê¹Šì€ ê³³ê¹Œì§€ ì‘ìš©í•˜ëŠ” PDRN ì•°í”Œ í´ë Œì§• 2ê°œ ì„¸íŠ¸ êµ¬ì„±</p>
          <a
            href="https://link.coupang.com/a/cJr8oP"
            target="_blank"
            onclick="trackClick('ì „ë™ ì²­ì†Œê¸°')"
            >ìµœì €ê°€ë¡œ êµ¬ë§¤</a
          >
        </div>
      </div>

      <div class="card">
        <img
          src="https://thumbnail10.coupangcdn.com/thumbnails/remote/492x492ex/image/vendor_inventory/9caa/45f540d69cee8d292d79e193e64d0926fbd0286173457142c6a23be3db32.jpg"
          alt="ë©”ë¼ë¸” PDRN ë£¨ë¹„ì•Œì—”"
        />
        <div class="card-content">
          <h2>
            <span class="badge">4ë²ˆ -</span> ê¸°ë¯¸, ë¯¸ë°± ì¼€ì–´ ë©”ë¼ë¸” PDRN
            ë£¨ë¹„ì•Œì—” ì•°í”Œ í´ë Œì € (150â€¯ml Ã— 2)
          </h2>
          <p>í”¼ë¶€ ê¹Šì€ ê³³ê¹Œì§€ ì‘ìš©í•˜ëŠ” PDRN ì•°í”Œ í´ë Œì§• 2ê°œ ì„¸íŠ¸ êµ¬ì„±</p>
          <a
            href="https://link.coupang.com/a/cJaNgY"
            target="_blank"
            onclick="trackClick('í´ëœì €')"
            >ìµœì €ê°€ë¡œ êµ¬ë§¤</a
          >
        </div>
      </div>

      <div class="card">
        <img
          src="https://thumbnail9.coupangcdn.com/thumbnails/remote/492x492ex/image/retail/images/67038293282094-5706a620-1e6d-40ff-9bb4-30b987febfec.jpg"
          alt="ì²­ì •ì› ì²œì¼ì—¼ êµ¬ìš´ì†Œê¸ˆ"
        />
        <div class="card-content">
          <h2>
            <span class="badge">3ë²ˆ -</span> ì²­ì •ì› ì²œì¼ì—¼ êµ¬ìš´ì†Œê¸ˆ 1â€¯kg Ã— 2ê°œ
            ì„¸íŠ¸
          </h2>
          <p>800ë„ì˜ ì •ì„±, ì‹ ì•ˆì˜ ìˆœìˆ˜í•¨ â€“ ì²­ì •ì› ì²œì¼ì—¼ êµ¬ìš´ì†Œê¸ˆ 2kg</p>
          <a
            href="https://link.coupang.com/a/cJatBh"
            target="_blank"
            onclick="trackClick('êµ¬ìš´ì†Œê¸ˆ')"
            >ìµœì €ê°€ë¡œ êµ¬ë§¤</a
          >
        </div>
      </div>

      <div class="card">
        <img
          src="https://thumbnail8.coupangcdn.com/thumbnails/remote/492x492ex/image/retail/images/862066641797853-b5cd166c-2594-47ae-b324-5a5153f063d3.jpg"
          alt="ë¯¸ë‹ˆ ì„ í’ê¸°"
        />
        <div class="card-content">
          <h2><span class="badge">2ë²ˆ -</span> ë¯¸ë‹ˆ ì„ í’ê¸°</h2>
          <p>íœ´ëŒ€ì„±, ëƒ‰ê° ìµœê³ ! ì—¬ë¦„ì²  ê¿€í…œ ë¯¸ë‹ˆ ì„ í’ê¸°</p>
          <a
            href="https://link.coupang.com/a/cI9uDm"
            target="_blank"
            onclick="trackClick('ë¯¸ë‹ˆ ì„ í’ê¸°')"
            >ìµœì €ê°€ë¡œ êµ¬ë§¤</a
          >
        </div>
      </div>

      <div class="card">
        <img
          src="https://thumbnail7.coupangcdn.com/thumbnails/remote/492x492ex/image/vendor_inventory/fe06/897c591bea86a8e2bddad6c76d85f788597661f7983702f3bb9f78af47cc.jpg"
          alt="ì¿¨ë§ ë§¤íŠ¸"
        />
        <div class="card-content">
          <h2><span class="badge">1ë²ˆ -</span> ì¿¨ë§ ë§¤íŠ¸</h2>
          <p>ì‹œì›í•˜ê²Œ ê¿€ì  ìì! ì—¬ë¦„ í•„ìˆ˜í…œ ì¿¨ë§¤íŠ¸</p>
          <a
            href="https://link.coupang.com/a/cI9wQc "
            target="_blank"
            onclick=" trackClick('ì¿¨ë§ ë§¤íŠ¸')"
            >ìµœì €ê°€ë¡œ êµ¬ë§¤</a
          >
        </div>
      </div>
    </div>

    <footer>
      â€» ì´ í˜ì´ì§€ëŠ” ì¿ íŒ¡ íŒŒíŠ¸ë„ˆìŠ¤ í™œë™ì˜ ì¼í™˜ìœ¼ë¡œ, ì´ì— ë”°ë¥¸ ì¼ì •ì•¡ì˜ ìˆ˜ìˆ˜ë£Œë¥¼
      ì œê³µë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    </footer>

    <script>
      function normalizeText(text) {
        return text.toLowerCase().replace(/\s+/g, "").replace(/\./g, "");
      }

      function filterProducts() {
        const keyword = normalizeText(
          document.getElementById("searchInput").value
        );
        const cards = document.querySelectorAll(".card");
        let matchCount = 0;

        cards.forEach((card) => {
          const title = normalizeText(card.querySelector("h2").textContent);
          const desc = normalizeText(card.querySelector("p").textContent);

          if (title.includes(keyword) || desc.includes(keyword)) {
            card.style.display = "flex";
            matchCount++;
          } else {
            card.style.display = "none";
          }
        });

        document.getElementById("noResults").style.display =
          matchCount === 0 ? "block" : "none";
        document.getElementById("resultInfo").textContent = keyword
          ? `â€˜${
              document.getElementById("searchInput").value
            }â€™ ê²€ìƒ‰ ê²°ê³¼: ${matchCount}ê±´`
          : "";
      }

      document
        .getElementById("searchInput")
        .addEventListener("input", filterProducts);
      // ì„¸ì…˜ ìƒì„± ë° ìœ ì§€
      function getSessionId() {
        let sessionId = localStorage.getItem("sessionId");
        if (!sessionId) {
          sessionId = "sess_" + Math.random().toString(36).substr(2, 9);
          localStorage.setItem("sessionId", sessionId);
        }
        return sessionId;
      }

      // í´ë¦­ ë¡œê·¸ ì„œë²„ ì „ì†¡
      function trackClick(productName) {
        const logData = {
          sessionId: getSessionId(),
          product: productName,
          timestamp: new Date().toISOString(),
          userAgent: navigator.userAgent,
        };

        fetch("https://dealpilot-server.onrender.com/log", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(logData),
        }).catch((err) => console.error("ë¡œê·¸ ì „ì†¡ ì‹¤íŒ¨:", err));
      }
    </script>
  </body>
</html>
